var e=Object.assign;import{C as t,M as n,e as a,f as r,c as l,d as i,E as o,a5 as c,aw as s}from"./vendor.1f219a43.js";import{B as p}from"./BasicLayoutCard.a528a84e.js";import{a as m}from"./LayoutEmpty.73cd7d60.js";var d=function(e){return t.createElement(n,null,(function(n){var i,o=n.getPrefixCls,c=n.direction,s=e.prefixCls,p=e.type,m=void 0===p?"horizontal":p,d=e.orientation,u=void 0===d?"center":d,f=e.className,v=e.children,y=e.dashed,g=e.plain,h=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n}(e,["prefixCls","type","orientation","className","children","dashed","plain"]),E=o("divider",s),x=u.length>0?"-".concat(u):u,O=!!v,b=a(E,"".concat(E,"-").concat(m),(r(i={},"".concat(E,"-with-text"),O),r(i,"".concat(E,"-with-text").concat(x),O),r(i,"".concat(E,"-dashed"),!!y),r(i,"".concat(E,"-plain"),!!g),r(i,"".concat(E,"-rtl"),"rtl"===c),i),f);return t.createElement("div",l({className:b},h,{role:"separator"}),v&&t.createElement("span",{className:"".concat(E,"-inner-text")},v))}))},u={small:8,middle:16,large:24};function f(e){var n,a=e.className,l=e.direction,i=e.index,o=e.size,c=e.marginDirection,s=e.children,p=e.split,m=t.useContext(v);if(null==s)return null;var d=i>=m?{}:r({},"vertical"===l?"marginBottom":c,(null!==(n="string"==typeof o?u[o]:o)&&void 0!==n?n:0)/(p?2:1));return t.createElement(t.Fragment,null,t.createElement("div",{className:a,style:d},s),i<m&&p&&t.createElement("span",{className:"".concat(a,"-split"),style:d},p))}var v=t.createContext(0),y=function(e){var n,c=t.useContext(i),s=c.getPrefixCls,p=c.space,m=c.direction,d=e.size,u=void 0===d?(null==p?void 0:p.size)||"small":d,y=e.align,g=e.className,h=e.children,E=e.direction,x=void 0===E?"horizontal":E,O=e.prefixCls,b=e.split,w=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n}(e,["size","align","className","children","direction","prefixCls","split"]),C=o(h,{keepEmpty:!0});if(0===C.length)return null;var j=void 0===y&&"horizontal"===x?"center":y,N=s("space",O),P=a(N,"".concat(N,"-").concat(x),(r(n={},"".concat(N,"-rtl"),"rtl"===m),r(n,"".concat(N,"-align-").concat(j),j),n),g),z="".concat(N,"-item"),S="rtl"===m?"marginLeft":"marginRight",A=0,B=C.map((function(e,n){return null!=e&&(A=n),t.createElement(f,{className:z,key:"".concat(z,"-").concat(n),direction:x,size:u,index:n,marginDirection:S,split:b},e)}));return t.createElement("div",l({className:P},w),t.createElement(v.Provider,{value:A},B))},g=function(e){var n;n=function(){e()},t.useEffect(n,[])};const h=e=>{const[n,a]=t.useState([]),[r,l]=t.useState();g((async()=>{const t=await e.configApi.list();a(t);const n=await e.configApi.get();await l(n||t[0]),console.log("list: ",t,n)}));const i=t.useMemo((()=>{const e=n.findIndex((({videoUrl:e})=>e===(null==r?void 0:r.videoUrl)));return-1===e?void 0:e}),[n,r]);return t.createElement(p,{title:e.title},t.createElement("header",null,t.createElement(y,null,t.createElement(m,{value:i,onChange:e=>l(n[e]),style:{width:200},options:n.map(((e,t)=>({label:e.label,value:t}))),showSearch:!0,optionFilterProp:"label"}),t.createElement(c,{type:"primary",onClick:function(){e.configApi.set(r),s.success("修改背景视频成功")}},"确定"))),t.createElement(d,null),t.createElement("section",null,r&&t.createElement("video",{src:r.videoUrl,poster:r.imageUrl,autoPlay:!0,loop:!0,controls:!0,style:{width:"100%"}})))},E=n=>n.configApi?t.createElement(h,e({},n)):n.empty;export{E as B};
